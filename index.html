<!DOCTYPE html>
<html>
<head>
    <title>JSSample</title>
    <script
            src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>

<body>
<!--
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Project name</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </div>
</nav>
-->

<div class="container">

    <h1>
        Wegmans API Hackin'
    </h1>

    <h2>
        Pick a beer and see its popularity in ROC stores
    </h2>

</div>

<form action="/index.html" id="zoneName">
    City Name <br>
    <input type="text" name="zoneName" value="">
    <br>
    <button><input type="submit" value="Submit"></button>
</form>

<script type="text/javascript">
  $(function() {

    var authKey = "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ino0NHdNZEh1OHdLc3VtcmJmYUs5OHF4czVZSSIsImtpZCI6Ino0NHdNZEh1OHdLc3VtcmJmYUs5OHF4czVZSSJ9.eyJhdWQiOiJodHRwczovL3dlZ21hbnMtZXMuYXp1cmUtYXBpLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzEzMThkNTdmLTc1N2ItNDViMy1iMWIwLTliM2MzODQyNzc0Zi8iLCJpYXQiOjE1MTcwOTE5NjAsIm5iZiI6MTUxNzA5MTk2MCwiZXhwIjoxNTE3MDk1ODYwLCJhaW8iOiJZMk5nWU9BNzd0MVE5WExDVWhQalA5eGZ4WHhmQVFBPSIsImFwcGlkIjoiMmZhOGY3MWYtY2VjNS00OWU5LWJkMGEtMjI3ODBkYzI2YTliIiwiYXBwaWRhY3IiOiIxIiwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvMTMxOGQ1N2YtNzU3Yi00NWIzLWIxYjAtOWIzYzM4NDI3NzRmLyIsIm9pZCI6ImY0NTIwYmRmLTc1NWItNGY5Yi1iNWJkLTI4NGJiYTI2MTEwOSIsInN1YiI6ImY0NTIwYmRmLTc1NWItNGY5Yi1iNWJkLTI4NGJiYTI2MTEwOSIsInRpZCI6IjEzMThkNTdmLTc1N2ItNDViMy1iMWIwLTliM2MzODQyNzc0ZiIsInV0aSI6ImE1TFRMNmRONWstZWVmQVZISzhOQUEiLCJ2ZXIiOiIxLjAifQ.WjHU0XcdmpDMRvujqw3rWn-LPSkMkXv-IO-zhDTuZAoUTfa_pq2Toh9rFUpCL6VF0CocbSVZS7un9LczbIra0sd-tLZ8f70v9OA7akSp_IiHFDGKe1bbs6spBb5SV7rK1te4Bu3A9Wr8CIkEiZJO1mm1neVUHqdMzNBxrRfbuZYafMYCxOO2nrJrjbGgd_Tz1xmvX6PZa6L-F1YdPpSJk-ME5zn9xpSaWMfqfHa8gvOdypysatah-E9zJ11hFLiE9fjIKnapGKD1mS3-f96Xw9Mqq16-Ngje6b0vBpCekiBEjI1F4eVzUsOvJLeZAmSON2i-TDfaxMHuJ420rq3aDA";
    var subKey = "ad393547cfc348cb8ad7ce91e1d5586f";

    var zoneName = document.getElementById("zoneName").value;


    $.ajax({
      url: "https://wegmans-es.azure-api.net/locationpublic/location/stores?zoneName=" + zoneName,
      //url: "https://wegmans-es.azure-api.net/productpublic/productavailability/700632/stores",
      beforeSend: function(xhrObj){
        // Request headers
        xhrObj.setRequestHeader("Location-Subscription-Key", subKey);
        xhrObj.setRequestHeader("Product-Subscription-Key",subKey);
        xhrObj.setRequestHeader("Authorization",authKey);
        xhrObj.setRequestHeader("Availability-Subscription-Key", subKey);

      },
      type: "GET",
      // Request body
      data: "{body}"
    })
      .done(function(data) {
        console.log("success" + data[0].StoreNumber);
        /*for(var name in data) {
            console.log(name);
        }*/
        for(i = 0; i < 50; i++) {
            console.log(data[i].StoreNumber + ", ");
        }
      })
      .fail(function() {
        console.log("error");
      });
  });
</script>

</body>
</html>
