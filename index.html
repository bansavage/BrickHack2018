<!DOCTYPE html>
<html>
<head>
    <title>JSSample</title>
    <script
            src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>

<body>
<!--
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Project name</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </div>
</nav>
-->

<div class="container">

    <h1>
        Wegmans API Hackin'
    </h1>
    City Name
    <br>
    <input type="text" id="zoneName" name="zoneName" value="">
    <br>
    <button id="submit" type="button" onclick="run()">Click Me!</button>

</div>


<script type="text/javascript">

      //attach 'enter' key to button
      $("#zoneName").keyup(function(event) {
        if (event.keyCode === 13) {
          $("#submit").click();
        }
      });

    function run(){
      var authKey = "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ino0NHdNZEh1OHdLc3VtcmJmYUs5OHF4czVZSSIsImtpZCI6Ino0NHdNZEh1OHdLc3VtcmJmYUs5OHF4czVZSSJ9.eyJhdWQiOiJodHRwczovL3dlZ21hbnMtZXMuYXp1cmUtYXBpLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzEzMThkNTdmLTc1N2ItNDViMy1iMWIwLTliM2MzODQyNzc0Zi8iLCJpYXQiOjE1MTcwOTE4NDYsIm5iZiI6MTUxNzA5MTg0NiwiZXhwIjoxNTE3MDk1NzQ2LCJhaW8iOiJZMk5nWUZnU3JIZGVmdEZUUHZYRWZuZFdxWXVmQUE9PSIsImFwcGlkIjoiMmZhOGY3MWYtY2VjNS00OWU5LWJkMGEtMjI3ODBkYzI2YTliIiwiYXBwaWRhY3IiOiIxIiwiaWRwIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvMTMxOGQ1N2YtNzU3Yi00NWIzLWIxYjAtOWIzYzM4NDI3NzRmLyIsIm9pZCI6ImY0NTIwYmRmLTc1NWItNGY5Yi1iNWJkLTI4NGJiYTI2MTEwOSIsInN1YiI6ImY0NTIwYmRmLTc1NWItNGY5Yi1iNWJkLTI4NGJiYTI2MTEwOSIsInRpZCI6IjEzMThkNTdmLTc1N2ItNDViMy1iMWIwLTliM2MzODQyNzc0ZiIsInV0aSI6ImhyakZwUVFCZWtPdW9YeG0tT29PQUEiLCJ2ZXIiOiIxLjAifQ.Nyp_p7eR1L3WiY_i283bh1Sxk-R9iWQK3xfqJnM7o684fa9NwZEFCZtaXW8Of0GRbzGfn2gdjPezxVb-qzSn3VLjJ8cseq3TBufmcGlqkY45sVDVw3UylojbRGEt9OELwbqL2fi82BvgulIo-CPQsw-sD_75BooAP_VPUw-NgssMvOHnRqCzUQuomBYRLicebXjq1uC83BkmlBdH37Jbr2NG4cxM_w9xbCjr6VHTjq_FkIbsfVpS_S3t509FQS_HZpZLMzXc_bZJDs_X0m9nxeaxowGL5RFiCQrGK2wpCEKbuDP-bK1b8jfoB5BGzDfDLoUWlHQfLZSPvRRL4l9tBQ";
      var subKey = "7a2da79699e74dd0af5b8158f6134fbd";

      var zoneName = document.getElementById("zoneName").value;
      console.log(zoneName);


      $.ajax({
        url: "https://wegmans-es.azure-api.net/locationpublic/location/stores?zoneName=" + zoneName,
        //url: "https://wegmans-es.azure-api.net/productpublic/productavailability/700632/stores",
        beforeSend: function(xhrObj){
          // Request headers
          xhrObj.setRequestHeader("Location-Subscription-Key", subKey);
          xhrObj.setRequestHeader("Product-Subscription-Key",subKey);
          xhrObj.setRequestHeader("Authorization",authKey);
          xhrObj.setRequestHeader("Availability-Subscription-Key", subKey);

        },
        type: "GET",
        // Request body
        data: "{body}"
      })
        .done(function(data) {
          console.log("success" + data[0].StoreNumber);
          /*for(var name in data) {
              console.log(name);
          }*/
          for(i = 0; i < 50; i++) {
            console.log(data[i].StoreNumber + ", ");
          }
        })
        .fail(function() {
          console.log("error");
        });
    }
</script>

</body>
</html>
